<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Experiment 5 - Student Records Dashboard</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    /* Small visual improvements */
    body { padding: 1.25rem; }
    .controls-row .form-control { min-width: 180px; }
    .small-muted { font-size: 0.9rem; color: #6c757d; }
    /* Make the demo area visually distinct */
    .demo-box { border: 1px dashed #dee2e6; padding: .75rem; border-radius: .375rem; }
  </style>
</head>
<body>

  <div id="outerContainer" class="container">
    <h2 class="mb-3">Student Records Dashboard</h2>

    <!-- Top controls -->
    <div class="row mb-3 gx-3 gy-2 align-items-center controls-row">
      <div class="col-auto">
        <form id="filterForm" class="row gx-2 gy-2 align-items-center">
          <div class="col-auto">
            <label for="filterName" class="visually-hidden">Name</label>
            <input id="filterName" class="form-control" type="search" placeholder="Search by name" aria-label="Search by name">
          </div>

          <div class="col-auto">
            <label for="filterCourse" class="visually-hidden">Course</label>
            <select id="filterCourse" class="form-select" aria-label="Filter by course">
              <option value="">All Courses</option>
              <option>IT</option>
              <option>CSE</option>
              <option>ECE</option>
            </select>
          </div>

          <div class="col-auto">
            <label for="filterGrade" class="visually-hidden">Grade</label>
            <select id="filterGrade" class="form-select" aria-label="Filter by grade">
              <option value="">All Grades</option>
              <option>A+</option>
              <option>A</option>
              <option>A-</option>
              <option>B+</option>
              <option>B</option>
              <option>B-</option>
            </select>
          </div>

          <div class="col-auto">
            <button id="btnFilter" class="btn btn-primary" type="button">Filter</button>
            <button id="btnReset" class="btn btn-outline-secondary" type="button">Reset</button>
          </div>
        </form>
      </div>

      <!-- Responsive-mode toggle for comparison -->
      <div class="col-auto ms-auto">
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="responsiveMode" id="modeTableLevel" value="table" checked>
          <label class="form-check-label" for="modeTableLevel">Table-level (.table-responsive on table)</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="responsiveMode" id="modeContainerLevel" value="container">
          <label class="form-check-label" for="modeContainerLevel">Container-level (.table-responsive on container)</label>
        </div>
        <div class="small-muted mt-1">Toggle to compare how scrolling behaves on mobile.</div>
      </div>
    </div>

    <!-- No-records alert (hidden initially) -->
    <div id="noRecordsAlert" class="alert alert-warning alert-dismissible fade show d-none" role="alert">
      <strong>No records found!</strong> Try resetting filters.
      <button type="button" class="btn-close" aria-label="Close" onclick="document.getElementById('noRecordsAlert').classList.add('d-none')"></button>
    </div>

    <!-- Demo box: this is the area that will be given .table-responsive in the container-level mode -->
    <div id="demoArea" class="demo-box">

      <!-- Table wrapper: in table-level mode this wrapper has .table-responsive and only the table scrolls. -->
      <div id="tableWrapper" class="table-responsive">
        <table id="studentsTable" class="table table-striped table-hover align-middle mb-0">
          <thead class="table-dark">
            <tr>
              <th scope="col">ID</th>
              <th scope="col">Name</th>
              <th scope="col">Course</th>
              <th scope="col">Year</th>
              <th scope="col">Grade</th>
              <th scope="col">Email</th>
            </tr>
          </thead>
          <tbody>
            <!-- Sample data -->
            <tr>
              <td>1</td><td>Sairam</td><td>IT</td><td>3</td><td>A</td><td>sairam@example.com</td>
            </tr>
            <tr>
              <td>2</td><td>Anita</td><td>CSE</td><td>3</td><td>B+</td><td>anita@example.com</td>
            </tr>
            <tr>
              <td>3</td><td>Rahul</td><td>ECE</td><td>2</td><td>A-</td><td>rahul@example.com</td>
            </tr>
            <tr>
              <td>4</td><td>Priya</td><td>IT</td><td>2</td><td>B</td><td>priya@example.com</td>
            </tr>
            <tr>
              <td>5</td><td>Vikram</td><td>CSE</td><td>3</td><td>A</td><td>vikram@example.com</td>
            </tr>
            <tr>
              <td>6</td><td>Meera</td><td>ECE</td><td>1</td><td>B-</td><td>meera@example.com</td>
            </tr>
            <tr>
              <td>7</td><td>Arjun</td><td>IT</td><td>3</td><td>A+</td><td>arjun@example.com</td>
            </tr>
            <tr>
              <td>8</td><td>Sneha</td><td>CSE</td><td>2</td><td>B</td><td>sneha@example.com</td>
            </tr>
          </tbody>
        </table>
      </div> <!-- /tableWrapper -->

    </div> <!-- /demoArea -->

    <!-- Analysis section -->
    <div class="container-fluid bg-light p-3 mt-4">
      <h5>Analysis</h5>
      <p>
        <strong>table-level</strong> (default in this demo): only the table element is wrapped in <code>.table-responsive</code>.
        On small screens the table itself becomes horizontally scrollable while the filter controls, alerts and surrounding content stay fixed visible.
        This is usually preferable when you want the UI controls (search/filter buttons) to remain on-screen while inspecting wide tables.
      </p>
      <p>
        <strong>container-level</strong>: applying <code>.table-responsive</code> to the outer container (the entire demo area) makes everything inside that container scrollable.
        That means the filters, the alert and the table will all scroll horizontally together â€” useful when you want to keep table column alignment with headers and other inline UI, but it can hide controls from view on small devices.
      </p>
      <p class="small-muted mb-0">
        Try switching the radio buttons above and resize your browser to a narrow width (or open the page on a phone) to see the two behaviors side-by-side.
      </p>
    </div>

  </div> <!-- /outerContainer -->

  <!-- Bootstrap JS (bundle includes Popper) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Demo JS: filtering + responsive-mode toggle -->
  <script>
    (function () {
      const filterName = document.getElementById('filterName');
      const filterCourse = document.getElementById('filterCourse');
      const filterGrade = document.getElementById('filterGrade');
      const btnFilter = document.getElementById('btnFilter');
      const btnReset = document.getElementById('btnReset');
      const table = document.getElementById('studentsTable');
      const tbody = table.tBodies[0];
      const noRecordsAlert = document.getElementById('noRecordsAlert');

      const rows = Array.from(tbody.rows);

      function applyFilters() {
        const nameVal = filterName.value.trim().toLowerCase();
        const courseVal = filterCourse.value;
        const gradeVal = filterGrade.value;

        let visibleCount = 0;

        rows.forEach(tr => {
          const cells = tr.cells;
          const name = cells[1].textContent.trim().toLowerCase();
          const course = cells[2].textContent.trim();
          const grade = cells[4].textContent.trim();

          const matchName = !nameVal || name.includes(nameVal);
          const matchCourse = !courseVal || course === courseVal;
          const matchGrade = !gradeVal || grade === gradeVal;

          if (matchName && matchCourse && matchGrade) {
            tr.style.display = '';
            visibleCount++;
          } else {
            tr.style.display = 'none';
          }
        });

        // Show or hide the no-records alert
        if (visibleCount === 0) {
          noRecordsAlert.classList.remove('d-none');
        } else {
          noRecordsAlert.classList.add('d-none');
        }
      }

      btnFilter.addEventListener('click', applyFilters);

      btnReset.addEventListener('click', () => {
        filterName.value = '';
        filterCourse.value = '';
        filterGrade.value = '';
        rows.forEach(r => r.style.display = '');
        noRecordsAlert.classList.add('d-none');
      });

      // Also filter when pressing Enter in the name field
      filterName.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') {
          e.preventDefault();
          applyFilters();
        }
      });

      // Responsive-mode toggle: table-level (default) vs container-level
      const modeTable = document.getElementById('modeTableLevel');
      const modeContainer = document.getElementById('modeContainerLevel');
      const tableWrapper = document.getElementById('tableWrapper');
      const outerContainer = document.getElementById('outerContainer');
      const demoArea = document.getElementById('demoArea');

      function setMode(mode) {
        // First remove any .table-responsive from both places
        tableWrapper.classList.remove('table-responsive');
        demoArea.classList.remove('table-responsive');

        if (mode === 'table') {
          // table-level: tableWrapper gets the class (only table scrolls)
          tableWrapper.classList.add('table-responsive');
        } else {
          // container-level: demoArea gets the class (everything inside scrolls)
          demoArea.classList.add('table-responsive');
        }
      }

      // initial mode
      setMode('table');

      // events
      modeTable.addEventListener('change', () => setMode('table'));
      modeContainer.addEventListener('change', () => setMode('container'));

      // accessible: keep alert dismissible using bootstrap close (already wired by button)
    })();
  </script>
</body>
</html>
